using Microsoft.EntityFrameworkCore;
using Reservant.Api.Models;

namespace Reservant.Api.Data;

internal static class DbSeeder
{
    public static async Task SeedDataAsync(ApiDbContext context)
    {
        if (await context.WeatherForecasts.AnyAsync())
        {
            return;
        }

        context.AddRange(
            new WeatherForecast
            {
                Date = new DateOnly(2024, 1, 29),
                TemperatureC = -2,
                Summary = "Scorching"
            },
            new WeatherForecast
            {
                Date = new DateOnly(2024, 1, 30),
                TemperatureC = 19,
                Summary = "Hot"
            },
            new WeatherForecast
            {
                Date = new DateOnly(2024, 1, 31),
                TemperatureC = 45,
                Summary = "Chilly"
            },
            new WeatherForecast
            {
                Date = new DateOnly(2024, 1, 1),
                TemperatureC = -13,
                Summary = "Sweltering"
            },
            new WeatherForecast
            {
                Date = new DateOnly(2024, 1, 2),
                TemperatureC = 4,
                Summary = "Freezing"
            }
        );

        await context.SaveChangesAsync();
    }
}
